
%-------------------------------------------------------------------------------
%	EPIGRAPH - Three good quotes about the research
%-------------------------------------------------------------------------------

\thispagestyle{empty}

\openepigraph{There is no logic that can be superimposed on the city; people make it, and it is to them, not buildings, that we must fit our plans.}{Jane Jacobs,{ \small \itshape The Death and Life of Great American Cities}}
\vfill

\openepigraph{Information is the oil of the 21st century, and analytics is the combustion engine}{Peter Sondergaard,{\small \itshape SVP, Gartner}}
\vfill

\openepigraph{Errors using inadequate data are much less than those using no data at all}{Charles Babbage {\small \itshape The Education Industry}}
\maketitle

%-------------------------------------------------------------------------------
%	Declaration Page - as per UCL regulations
%-------------------------------------------------------------------------------

\newpage
\begin{fullwidth}
~\vfill
\thispagestyle{empty}
\setlength{\parindent}{0pt}
\setlength{\parskip}{\baselineskip}
\smallcaps{Doctor of Philosophy}\\
\smallcaps{Department of Geography, UCL}
\par I, \textit{Balamurugan Soundararaj} confirm that the work presented in this thesis is my own. Where information has been derived from other sources, I confirm that this has been indicated in the thesis.\index{declaration}\\
\vspace{1cm}
\par..........................................................................
\par\textit{Submitted on, \monthyear}
\end{fullwidth}


%-------------------------------------------------------------------------------
%	Dedication
%-------------------------------------------------------------------------------

\cleardoublepage
~\vfill
\begin{doublespace}
\noindent\fontsize{12}{12}\selectfont\itshape \nohyphenation
\hspace{4cm}Dedicated to my parents,

\hspace{3.5cm}S. Kalavathy and K. Soundararaj.
\end{doublespace}
\vfill
\vfill

%-------------------------------------------------------------------------------
%	Table and Lists of Content
%-------------------------------------------------------------------------------

\setcounter{secnumdepth}{2}
\setcounter{tocdepth}{1}
\tableofcontents
\listoffigures 
\listoftables

%-------------------------------------------------------------------------------
\chapter*{Glossary} \label{front:glossary}
%-------------------------------------------------------------------------------

\begin{itemize}
  \item \textbf{Active vs Passive Collection} - Active collection is where the data collection process involves the active participation from the study subjects. In passive data collection, no such participation is required. For example, a web form based survey is an active data collection process while a script collecting data on user's data on a website is passive. This shall not be confused with primary and secondary data where the difference is mainly due to who collects the data from the source.

  \item \textbf{Anonymisation and Pseudonymisation } - The act of removing personal or identifiable information from the data. For example, removing the names and date of birth of people in a dataset. Anonymisation could be carried out in various ways two most popular approaches are generalisation and perturbation. Pseudonymisation is similar but the personally identifiable data is substituted with artificial identifier. The difference between them is that in anonymisation the personal information is permanently purged and there is no way of getting the information back. De-anonymisation is the reverse process of getting personal identifiable data from anonymised data.
    
  \item \textbf{Big Data} - Generally defined as data which could not be handled with regularly used tools and techniques. There are more nuanced definitions of big data depending on the dimension, context and industry. These concepts are discussed in detail in Section \ref{section:toolkit}.

  \item \textbf{Bluetooth} - Short wavelength, low energy, short range wireless technology used for transferring data between electronic devices. They are generally used by mobile devices to connect to peripherals. 

  \item \textbf{CDRC} - The Consumer Data Research Center is an investment from Economic Social Research Center, UK for working with consumer-related organisations to open up their data resources to trusted researchers thus enabling them to carry out important social and economic research.

  \item \textbf{Cellular/Mobile Network} - Terrestrial, long range and wireless network which provides connectivity to mobile devices embedded in them. Most commonly used to denote the networks that provides telephony and internet services to mobile devices using radio waves. 

  \item \textbf{Cryptographic Hashing} - This is the process of transforming a variable set of characters or contents of a file into a fixed length string (checksum). The process is usually one way and is not reversible without a rainbow attack using a database of checksums of all possible values. This is generally used for storing user passwords and to verify the integrity/ authenticity of data. In this thesis hashing functions are used for the purpose of anonymisaiton 

  \item \textbf{Data Partner} - Local Data Company - the organisation which developed the Smart Street Sensor project in conjunction with CDRC. The organisation is solely responsible for the design, manufacture, installation and maintenance of the Smart Street Sensors.

  \item \textbf{Device Fingerprinting} - This is the process of identifying devices through forensic analysis. This commonly used to identify users from data collected by operational websites. This commonly done through identifying unique configurations of the devices such as screen sizes, versions of software installed, etc. In this thesis fingerprinting is used to denote such processes where unique devices are identified from randomised data.

  \item \textbf{Encryption} - This is the process of converting a information into unintelligible format using an algorithm (cipher) to prevent unauthorised access. The process is two way since the resulting cipher-text can be decrypted to restore information. The most common methods used is a public-key based encryption scheme known as 'Diffie Hellman key exchange'.
    
  \item \textbf{Footfall} - Number of people at a given location at a give time. In this thesis the term is used synonymous to footfall at a high street - which is only the pedestrians walking along the particular sidewalk of the high street and does not include people on the carriage way in vehicles.

  \item \textbf{High Street} - The primary business street in a town or a local area where most shops and commercial activity are located. This term is often used to contrast and distinguish from 'Shopping centers' which are large designated areas earmarked for retail activity exclusively.
    
  \item \textbf{Localisation} - Though localisation could mean both GSM localisation and indoor positioning where the location of a device is indirectly derived from other information, in this thesis localisation is used mainly in the context of indoor positioning of mobile devices using techniques other than GPS. The localisation of objects is often relative to each other or to an object with an established position.
    
  \item \textbf{Location, Sensor and Install} - In this thesis and the Smart Street Sensor project, 'location' refers to a physical or geographic location in United Kingdom, 'sensor' denotes the electronic equipment used to collect data and 'install' refers to the time when a particular sensor was operating from a particular location.
    
  \item \textbf{Mobile Device} - A portable computing device such as a smartphone or tablet computer. This also includes wearables and other devices which have computing hardware and can operate independently of another device.
    
  \item \textbf{Personally Identifiable Information} - Any data that could potentially identify a specific individual. Any information that can be used to distinguish one person from another and can be used for de-anonymizing anonymous data can be considered personally identifiable information. In this thesis, the Media Access Control address is considered as sensitive personally identifiable information. 
    
  \item \textbf{Positioning} - Positioning is the measurement of the absolute position (coordinates) of an object with reference to the earth. This is usually achieved through the use of Global Positioning System or similar systems.

  \item \textbf{Probe Request} - This is a special signal broadcast by Wi-Fi enabled mobile devices to elicit a response (probe response) from Wi-Fi access points which can receive them. The primary purpose of the probe request is to enumerate the available Wi-Fi networks and there can also be secondary purposes such as indoor positioning.

  \item \textbf{Real-time} - This is highly subjective concept which could be defined as the phenomena which occurs sufficiently immediately. In this thesis real-time is used to describe data which is collected within an hour after the event has occurred.

  \item \textbf{Sensor Configuration} - The way the sensor is installed at a particular location. This includes the this includes the position of the sensor in terms of height and depth, the material of shopfront etc.

  \item \textbf{Signal, Noise} - 'Signal' is used to denote the data received from devices which are within study area and 'Noise' to denote the data from devices outside the study area.

  \item \textbf{Smart Street Sensor Project} - This project is a comprehensive study of live footfall patterns across Great Britain using 1,000 Wi-Fi based sensors located in high streets across 81 towns and cities across the country. Smart Street Sensor is a Raspberry Pi based sensor designed and manufactured by the Data partner which collects data for the project.

  \item \textbf{Wi-Fi} - A family of medium range radio technologies based on the IEEE 802.11 family of standards which are generally used for wireless local area networking between devices.

\end{itemize}

%-------------------------------------------------------------------------------
%	Outputs from Research
%-------------------------------------------------------------------------------

\chapter*{Outputs From The Research} \label{front:outputs}

\section*{Publications}
\textbf{Book Chapter} - Murcio, R., Soundararaj, B., \& Lugomer, K. (2018). Movements in Cities: Footfall and its Spatio-Temporal Distribution. In Longley P., Cheshire J., \& Singleton A. (Authors), \textit{Consumer Data Research} (pp. 84-95). London: UCL Press.
\vspace{0.2cm} \par \noindent \textbf{Journal Paper} - Soundararaj, B., Cheshire, J., \& Longley, P. (2019) Estimating real-time high-street footfall from Wi-Fi probe requests, \textit{International Journal of Geographical Information Science}.
\vspace{0.2cm} \par \noindent \textbf{Conference Paper} - Soundararaj, B., Cheshire, J., \& Longley, P. (2019). Medium Data Toolkit - A Case study on Smart Street Sensor Project. \textit{In Proceedings of GIS Research UK}, New Castle, United Kingdom.
\vspace{0.2cm} \par \noindent \textbf{Conference Paper} - Lugomer, K., Soundararaj, B., Murcio, R., Cheshire, J., \& Longley, P. (2017). Understanding sources of measurement error in the Wi-Fi sensor data in the Smart City. \textit{In Proceedings of GIS Research UK}, Manchester, United Kingdom.
\vspace{0.2cm} \par \noindent \textbf{Conference Paper} - Soundararaj, B., \& Zhu, D. (2019). Estimating pedestrian flow from footfall counts using Geo-propagation. \textit{In Proceedings of Conference on Complex Systems}, Singapore\sidenote{\textit{Under consideration}}.
\vspace{0.2cm} \par \noindent \textbf{Conference Paper} - Murcio, R., Soundararaj, B., \& Lugomer, K. (2018). Trends in urban flows: An information theory approach. \textit{In Proceedings of Conference on Complex Systems}, Cancun, Mexico.
\vspace{0.2cm} \par \noindent \textbf{Conference Paper} - Soundararaj, B., Murcio, R., \& Lugomer, K. (2016). Smart Street Sensor Footfall Project. \textit{In Proceedings of Conference on Complex Systems}, Amsterdam, Netherlands.
\vspace{0.2cm} \par \noindent \textbf{Conference Paper} - Soundararaj, B., \& Lugomer, K. (2016). Smart Street Sensor Footfall Project. \textit{In Proceedings of Oxford Retail Futures Conference}, Oxford, United Kingdom.

\section*{Engagement Activities}
\vspace{0.2cm} \par \noindent \textbf{Event Talk} - Estimating real-time high street footfall from Wi-Fi probe requests. (2018). \textit{Geo+data}, London, United Kingdom.
\vspace{0.2cm} \par \noindent \textbf{Event Talk} - Estimating real-time high street footfall from Wi-Fi probe requests. (2018). \textit{Data Natives}, London, United Kingdom.
\vspace{0.2cm} \par \noindent \textbf{Conference Workshop} - Estimating real-time high street footfall from Wi-Fi probe requests. (2018). \textit{Smart Urban Policy Futures Workshop}, London, United Kingdom.
\vspace{0.2cm} \par \noindent \textbf{Exhibition} - Real-time footfall in Bloomsbury. (2017). \textit{big data Here - big data Week 2016}, London, United Kingdom.

\section*{Products}
\vspace{0.2cm} \par \noindent \textbf{Research Dataset} - Smart Street Sensor footfall data, \textit{Consumer Data Research Center}. URL: \url{https://data.cdrc.ac.uk}.
\vspace{0.2cm} \par \noindent \textbf{Software} - Soundararaj, B. (2018). Clicker - an Android app for manually counting pedestrian footfalls with precision and accuracy. \textit{Google Play Store}. URL: \url{https://play.google.com/store/apps?id=com. bala. manualcount}.

\section*{Awards}
\vspace{0.2cm} \par \noindent \textbf{Best Paper} - Early Career Research paper at \textit{GIS Research UK conference, New Castle} (2019).
\vspace{0.2cm} \par \noindent \textbf{Bursary} - Yusuf Ali travel bursary (2017) \textit{University College London}.


%===============================================================================
\chapter*{Prologue}
%===============================================================================

%-------------------------------------------------------------------------------
\section*{Abstract} 
%-------------------------------------------------------------------------------

Measuring the distribution and dynamics of the population at granular level both spatially and temporally is crucial for understanding the structure and function of the built environment.
In this era of big data, there have been numerous attempts to undertake this using the preponderance of unstructured, passive and incidental digital data which are generated from day-to-day human activities.
In attempts to collect, analyse and link these widely available datasets at a massive scale, it is easy to put the privacy of the study subjects at risk.

This research looks at one such data source - Wi-Fi probe requests generated by mobile devices - in detail, and processes it into granular, long-term information on number of people on the retail high streets of the United Kingdom (UK).
Though this is not the first study to use this data source, the thesis specifically targets and tackles the uncertainties introduced in recent years by the implementation of features designed to protect the privacy of the users of Wi-Fi enabled mobile devices.
This research starts with the design and implementation of multiple experiments to examine Wi-Fi probe requests in detail, then later describes the development of a data collection methodology to collect multiple sets of probe requests at locations across London.
The thesis also details the uses of these datasets, along with the massive dataset generated by the \textit{`Smart Street Sensor'} project, to devise novel data cleaning and processing methodologies which result in the generation of a high quality dataset which describes the volume of people on UK retail high streets with a granularity of 5 minute intervals since August 2015 across 1000 locations (approx.) in 115 towns.

This thesis also describes the compilation of a bespoke \textit{`Medium data toolkit'} for processing Wi-Fi probe requests (or indeed any other data with a similar size and complexity).
Finally, the thesis demonstrates the value and possible applications of such footfall information through a series of case studies.
By successfully avoiding the use of any personally identifiable information, the research undertaken for this thesis also demonstrates that it is feasible to prioritise the privacy of users while still deriving detailed and meaningful insights from the data generated by the users.

%-------------------------------------------------------------------------------
\section*{Impact Statement}
%-------------------------------------------------------------------------------
We live in the age of data deluge where data are generated at a pace that far exceeds our capacity to digest and analyse them.
Putting these amounts of data to use within the constraints of available resources and time, is one of the biggest challenges faced by researchers today.
The primary impact of this research is in solving this issue.
This research utilised one such dataset - Wi-Fi signals generated by millions of mobile phones all around the year and available to anyone with a Wi-Fi receiver - then cleaned and processed them into highly granular and longitudinal information on the volume of footfall at retail high streets across the UK.

In  converting the unstructured data into useful information, the research undertaken for this thesis developed two novel methods - one for filtering Wi-Fi signals based on their strength, and the other for grouping them based on their source mobile device.
Moreover, this was achieved without revealing the identity of the users.
These techniques enable researchers to deal with datasets exhibiting similar challenges such as Bluetooth signals, or records of people's clicking as they navigate through websites, etc.
These methodologies and their results have been published in a peer reviewed journal \textit{International Journal for Geographic Information Science} for the benefit of the wider community.
They were also presented to the data partner who collaborated with the research unit - \textit{Consumer Data Research Centre (CDRC)} - for the Smart Street Sensor project, and were considered for inclusion in the data partner's commercial project.

When dealing with the large and complex Wi-Fi dataset, the research designed and implemented a bespoke toolkit and a data processing pipeline comprising of open-source and free software which could be used by other researchers for use with similar datasets.
The work on  this `Medium-data toolkit' was presented at the conference \textit{Geographic Information Science Research UK}.
Moreover the research directly led to the creation and maintenance of the \textit{aggregated footfall} data product disseminated by CDRC\sidenote[][-2cm]{\textit{Local Data Company \& UCL Smart Street Sensor Footfall Data: Research Aggregated data - \url{https://bit.ly/2FNGmo0}}}, and has served as the data source for multiple research projects within and outside CDRC and UCL.

Apart from the technical impact, the primary output of the research - footfall volumes on retail locations - has commercial and policy impact for all the stakeholders involved with the retail industry in the UK.
From this information comes a variety of insights: retailers can derive insights on the patterns of customer movement around their shops; landlords can find a reliable way to value their properties; local authorities gain a way to quantify and track the vibrancy of their retail centres over long periods of time; and consumers get information on which areas might be crowded at any given time.
Finally, in the past 3 years, the outputs from this research have been disseminated to the broader academic community and industry through a series of paper presentations at conferences such as \textit{GIS Research UK} and \textit{Conference of Complex Systems}, talks at \textit{Data natives}, \textit{Geo+Data London}, and \textit{Smart Urban Policy Futures Workshop}, industry events such as \textit{Oxford Retail Futures Conference}, and public engagement events such as the \textit{big data Here} exhibition.

%-------------------------------------------------------------------------------
\section*{Acknowledgements} 
%-------------------------------------------------------------------------------

I would like to thank my supervisors James Cheshire and Paul Longley for their guidance, support and relentless motivation.
I am deeply grateful to my family who have supported me through my academic journey to whom I owe everything I have ever achieved.
A very special gratitude goes to Anshita whose unwavering support and understanding got me through the most stressful times of my research.
My sincere thanks to all my friends and colleagues from \textit{Consumer Data Research Center} and \textit{Department of Geography, UCL} who have helped me in the research.
Most of the data collection carried out in this research were made possible by the help and support from our data partner - \textit{Local Data Company}.
I would like to thank \textit{Economic and Social Research Council} for funding the research under the awards - ES/L011840/1 and 1625064.
Last but not the least, I would like to thank the contributors to all the open source and free projects I have used in this research (appendix \ref{appendix:software}). I am forever indebted to them and hope to repay them by contributing back to the community for the rest of my career.
