\section{Research Gaps and Opportunities}

In this section we summarise the previous sections to find out the best possible  technology for further research and discuss the research gaps and opportunities available to us.
Table \ref{table:literature:technologies} summarises the above discussion to evaluate all the relevant technologies that can be used for the data collection and analysis for the study of human activity at a granular level.

\begin{table}
  \footnotesize
  \begin{center}
    \begin{tabular}{p{2.25cm}p{1.5cm}p{1.3cm}p{1.3cm}p{1.3cm}p{1.3cm}}
      \toprule
        Technology & Interpolation & Bespoke & Cellular & GPS & Wi-Fi \\
      \midrule
        Coverage* & Local & City & All & Local & All\\
        \addlinespace[0.2cm]
        Certainty* & Very Low & High & Medium & High & Medium \\
        \addlinespace[0.2cm]
        Independence* & Low & Very High & Low & Medium & High \\
        \addlinespace[0.2cm]
        Intrusiveness* & Low & Medium & High & High & Medium \\
        \addlinespace[0.2cm]
        Granularity* & Very Low & Very High & Medium & High & High \\
        \addlinespace[0.2cm]
        Ease of Collection* & Medium & Low & Medium & Low & High \\
        \addlinespace[0.2cm]
        Scalability* & Medium & Low & High & Medium & High \\
      \bottomrule
    \end{tabular}
  \end{center}
  \caption{Evaluation of different technologies or approaches that can be used for data collection.}
  \label{table:literature:technologies}
\end{table}
\marginnote[-3.75cm]{\textit{* coverage - the density and extent of the current infrastructure. Certainty - the lack of uncertainty in the data. Independence -How much the technique depends on secondary data. Intrusiveness - the potential for infringement of users' privacy. Granularity - the smallest spatial and temporal at which data could be collected. Ease of Collection - how efficient it is collect data in terms of time and resources. Scalability - the potential for the technology to improve coverage.}}

We can observer that Wi-Fi offers the best possible technology in terms of flexibility and scalability for data collection through mobile devices at an individual level while posing some risk to privacy of participants and involves uncertainty regarding the field of measurement.

\citep{pinelli2015} looks at a comparison of various approaches of collecting and analysing mobile phone location data.
The research identifies two major approaches in collecting device location data - Event-driven and Network-driven.
The event-driven approach is centered around the mobile devices generating data 
through their day to day activities.
The major sources of event-driven data are Call Detail Records(CDR) and internet use.
Network-driven approach is centered around the service provision infrastructure such as cellphone towers, Wi-Fi base stations etc.
The methods used to collect network-driven data are periodic update - where the device sends an update stating the base station it is connected to, handover - where the device information is recorded as they are moving between base stations and location update - where the location of the device is recorded based on the base stations it is connected to. 
The research used a set of anonymised mobile phone location data from a Belgian telecom operator for the city of Mons from which various event-driven and network driven scenarios were simulated. 
The authors compared these simulated scenarios for application-independent and application-dependent cases such as spatial dispersal, classes of users, count estimation and flow estimation to understand their relative advantages and disadvantages.
Through these comparisons it was shown that using network-driven mobile phone location data is more advantageous compared to the widely used event-driven ones.

From the literature search we can summarise that there is a considerable opportunity in the collection and analysis of mobile phone based data for measuring hyper-local, spatio-temporal dynamics of human activity.
The potential for research gaps are discussed in detail in the following sections.

%==============================================================================%
\subsection{Ambient population analysis}
%==============================================================================%

\marginnote{\textit{\textbf{Opportunity 1:} Design and collection of national/regional, longitudinal, grass root level data set which enables study of population both spatially and temporally.} }

Previous research in this area of study has been limited to either national/ regional level studies using centrally collected residential population data such as censuses or to area level studies conducted with mobile devices based technologies.
Though there were some efforts in collecting and using mobile phone data at national/ regional level we have never been presented with such unprecedented level of data available now.

For example, \citep{qin2013} demonstrate that it is possible to detect and quantify human presence at locations using probe requests with a detection rate of 86\%. 
Along with the evaluation of the various algorithms for channel switching the research also successfully classifies these detected human presence into distinct activities in a non-intrusive way. 
Though this work predates both the MAC address randomisation and wide spread use of mobile experienced these days, the explosion of consumer data both publicly available and privately held presents previously unseen opportunity and also limited by the privacy concerns that arise with them.
There is an immense opportunity to collect and standardise a large national level dataset which closely linked to the population distribution and movement in an anonymised way which then can be used to understand the distribution of population and its change.
There is a need to extend such effort  longitudinally which can give us insights in to the change of such phenomenon in time.
This has the potential to enable us to ask broad questions such as,

\begin{itemize}
  \setlength{\itemindent}{2em}
  \itemsep-0.25em
  \item What are the trends in the footfall in UK?
  \item What are the daily rhythm of different cites?
  \item How much a weather event affect economy of a region?
\end{itemize}

Such dataset, in conjunction with other consumer data sources, in addition to augmenting each other to improve their quality, can vastly improve our understanding of the structure and dynamics of population.

%==============================================================================%
\subsection{Device fingerprinting}
%==============================================================================%

\marginnote{\textit{\textbf{Opportunity 2:} Developing models and methods to identify anomalies in the data and underlying events causing them } }

The privacy concerns about the data collected from personal mobile devices has pushed the industry and users to find ways to anonymise the data generate over the last decade.
All the mobility studies recording user trajectories across space and time are rendered infeasible with the cryptographic hashing and randomisation techniques employed by the devices. 
This along with progressive legislation such as General Data Protection Regulation have severely constrained the data available for mobility research.
As we see later, even the estimation of ambient population is limited by these developments.

\citep{vanhoef2016} presents several novel methods of abusing the features of the Wi-Fi standards to track mobile devices even when the MAC addresses were randomised. This research shows the possibility of using the information elements present in the probe requests along with the sequence numbers to fingerprint the mobile device which sent the request with an accuracy of the 50\% within a 20 minute interval with a possibility of improvement with known scrambler 'seeds' - the randomisation factor used by popular commercial devices. Though this sounds promising for short intervals, since this research, manufacturers have stopped including non-mandatory information elements which can affect the accuracy significantly. The research also features two other methods to reverse engineer the original MAC addresses from the randomised ones - first where known hotspots were spoofed to trick the mobile devices in revealing their real addresses and the second where a different protocol requests were used. Both these methods cannot be used extensively since the former is not ethically sound and the latter is not widely used by all mobile devices. 

Since the above study and the following ones were conducted from security perspective - evaluating the robustness of the randomisation/ obfuscation procedure,
they focus on de-anonymising the obfuscated data to recreate the personal information from them while demonstrating vulnerabilities in the standard and associated risks for the users. 
In this context, there is a clear gap for research in to methods to rather carry out  fingerprinting of these devices using patterns in the data to create useful information from them without actually de-anonymise the data.
This can lead to production of data-sets and methodologies which will enable us to,

\begin{itemize}
  \setlength{\itemindent}{2em}
  \itemsep-0.25em
  \item Get accurate estimation of ambient populations.
  \item Understand the movement of the population in space and time.
\end{itemize}

%==============================================================================%
\subsection{Event Detection}
%==============================================================================%

Having granular spatio-temporal data on population at an area level also enables us to look at the activity of people at this scale.
For example, the spike in Wi-Fi activity at a certain area at a certain time can illuminate us with a specific event that is happening in that area.
Thought research have been done on this area using social media data, a longitudinal data-set collected using mobile technology can enable us to formalise the models needed to identify anomalies, quantify the causation of such anomalies to real world event.
\citep{kontokosta2016} discuss the use of Wi-Fi data for a 'real-time' census of the city with a case study of New York City's Lower Manhattan neighborhood.
The research collects around 20 million Wi-Fi data points during 2015 and presents a model to create real-time, on-the-fly population estimates with fine granularity.
The research demonstrates the feasibility of the pursuit along with the potential significance of such localised population estimates for use within the domains of city operations and policy, strategic long-term planning processes, emergency response etc.
There are opportunities to ask questions such as,

\marginnote{\textit{\textbf{Opportunity 3:} Developing models and methods to identify anomalies in the data and underlying events causing them } }

\begin{itemize}
  \setlength{\itemindent}{2em}
  \itemsep-0.25em
  \item How did the tube strike affected London?
  \item What were the hot spots for New years celebration?
  \item What was effect of a road closure in specific part of the city?
\end{itemize}

%==============================================================================%
\subsection{Pedestrian Flow}
%==============================================================================%

Similar to the device fingerprinting, estimating and understanding pedestrian flow in the street network has immense opportunities since the anonymisation of mobile devices has taken off.
Even when the problem of the identifying unique fingerprints of users in the data has not been solved, there is a need to understand the overall performance of the street network in terms of pedestrian flow just from the precise, granular data available, especially when the data source is as unstructured and noisy as the Wi-Fi sensors.

\citep{musa2011} use the Wi-Fi probe requests collected in a 12-hour trial on a busy road to describe a passive tracking system for mobile devices.
The research proposes a trajectory estimation method based on Viterbi's algorithm which estimates the most-likely spatial path taken from the information on when and where they have been detected. 
Although the research extends this trial into a 9-month deployment and demonstrates trajectory estimates with high accuracy, the problem still remains where we need to extract trajectories of users without actually being able to identify them.

This problem can he approached in two ways,

\marginnote{\textit{\textbf{Opportunity 4:} Estimating flow of pedestrians in the street network from Wi-Fi data } }

\begin{enumerate}
  \itemsep-0.25em
  \item Probabilistic approach - Where the relationship between the temporal change in volumes at locations are modelled.
  For e.g. how much and how often the footfall counts at one location mirrors/ follows other location gives us an idea of how many pedestrians move from one location to the other.
  \item Interpolation - Where the relationship between the locations are defined in terms of multiple variables such as how similar they are, how close they are etc.
  These relationships can in turn used to build a graph of locations and use this graph as a source to interpolate other locations.
\end{enumerate}

%==============================================================================%
\subsection{Nature and Change of Places}
%==============================================================================%

Though there are extensive research in using ambient population and people's movement to understand the form and function of the space, the mobile technologies have introduced the opportunity to remove the subjectivity from them.
With access to highly granular and long-term data sets, we can hope to look into the how the places have changed over time and how the external factors such as policy and economy has affected them.
There are opportunities to ask questions such as,

\begin{itemize}
  \itemsep-0.25em
  \item How does UK's exit from EU affect its high streets?
  \item Has a specific area has become more or less vibrant?
\end{itemize}

\marginnote[-3cm]{\textit{\textbf{Opportunity 5:} Using long term data to detect the nature and change of form and function of a place. } }






